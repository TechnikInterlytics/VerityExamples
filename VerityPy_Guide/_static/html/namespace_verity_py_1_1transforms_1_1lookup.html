<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VerityPy: VerityPy.transforms.lookup Namespace Reference</title>
<link rel="icon" href="ti_logo.jpg" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="ti_logo.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">VerityPy<span id="projectnumber">&#160;1.1</span>
   </div>
   <div id="projectbrief">Python library for Verity data profiling, quality control, remediation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_verity_py.html">VerityPy</a></li><li class="navelem"><a class="el" href="namespace_verity_py_1_1transforms.html">transforms</a></li><li class="navelem"><a class="el" href="namespace_verity_py_1_1transforms_1_1lookup.html">lookup</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">VerityPy.transforms.lookup Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_verity_py_1_1transforms_1_1lookup_1_1_look_up_dict.html">LookUpDict</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_verity_py_1_1transforms_1_1lookup_1_1_look_up_rec.html">LookUpRec</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1e4b0f5771c3e26561ec03d18bb44bb7" id="r_a1e4b0f5771c3e26561ec03d18bb44bb7"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e4b0f5771c3e26561ec03d18bb44bb7">make_lookups</a> (list lookups)</td></tr>
<tr class="separator:a1e4b0f5771c3e26561ec03d18bb44bb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f45656342f3972993705510f363382f" id="r_a0f45656342f3972993705510f363382f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_verity_py_1_1transforms_1_1lookup_1_1_look_up_dict.html">LookUpDict</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f45656342f3972993705510f363382f">make_lookup_from_file</a> (str title, str file_uri, str delim, bool is_case_sens, int num_keys)</td></tr>
<tr class="separator:a0f45656342f3972993705510f363382f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40b975fecc902bdfaaf29d5ce9938da0" id="r_a40b975fecc902bdfaaf29d5ce9938da0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_verity_py_1_1transforms_1_1lookup_1_1_look_up_dict.html">LookUpDict</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a40b975fecc902bdfaaf29d5ce9938da0">make_lookup_from_list</a> (str title, list lkup_list, str delim, bool is_case_sens, int num_keys)</td></tr>
<tr class="separator:a40b975fecc902bdfaaf29d5ce9938da0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a684aa04bf2aef7e1e05d8e4afd5d2679" id="r_a684aa04bf2aef7e1e05d8e4afd5d2679"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_verity_py_1_1transforms_1_1lookup_1_1_look_up_dict.html">LookUpDict</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a684aa04bf2aef7e1e05d8e4afd5d2679">extract_lookup_record_key_info</a> (<a class="el" href="class_verity_py_1_1transforms_1_1lookup_1_1_look_up_dict.html">LookUpDict</a> lkdict)</td></tr>
<tr class="separator:a684aa04bf2aef7e1e05d8e4afd5d2679"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Lookup dictionary functions

Lookup dictionary object for transform processing. Transforms have an 
operation (Op) that allows assigning a value based on looking up 
the current value in a dictionary. 1, 2, 3 keys are allowed with 
the replacement value coming from the following column. This Op is in 
transform_types for category=assignment, function=lookup. 

The description of this function and how it uses the lookup is:

    Assigns a value from a lookup list based on matching values to keys where keys can use wildcards. 
    The match can be made to one, two, or three source fields in the record with field 1 always 
    the current value while fields 2 and 3 are optional if set in Param2. 
    Leave Param2 empty to use only 1 field as the match value. 
    All selected fields must match their respective conditions for a lookup result to be assigned. 
    The conditions and the result to assign are in an object for each list entry 
    with properties: key1, key2, key3, value defined as example 
    {'key1':'top*','key2':'*blue*','key3':'*left','value':'Orange'}. 
    Conditions can use front and/or back wildcard (*) like top*, *night, *state* to allow token matching. 
    To use multiple conditions for the same replacement value ( OR condition ), 
    enter them as separate list entries. 
    To use AND and NOT conditions, use special notations as delimiters: 
    top*-and-*night-not-*blue* which means a match requires both top* and *night be true 
    as well as no instances of the token blue. 

    Param1: title of list that has been pre-loaded into array of lists as part of initialization. 
    Param2: Fields 2 and 3 both of which are optional and if both supplied use 
    pipe to delimit as with color|position. 
    For this example, current value must start with top (key1 condition), the field color 
    must contain blue, and the field position must end with left. 
    All of these must be true for a match in which case the value of Orange is assigned.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a684aa04bf2aef7e1e05d8e4afd5d2679" name="a684aa04bf2aef7e1e05d8e4afd5d2679"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a684aa04bf2aef7e1e05d8e4afd5d2679">&#9670;&#160;</a></span>extract_lookup_record_key_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="class_verity_py_1_1transforms_1_1lookup_1_1_look_up_dict.html">LookUpDict</a> extract_lookup_record_key_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_verity_py_1_1transforms_1_1lookup_1_1_look_up_dict.html">LookUpDict</a></td>          <td class="paramname"><span class="paramname"><em>lkdict</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Extracts lookup key information and parses into various arrays tokens, wildcards, 
and boolean AND and NOT conditions to accelerate matching.

lkdict: LookUpDict object to process

Returns modified LookUpDict object with parsed record information. Title will start with notok: if there is an error.
</pre> 
<p class="definition">Definition at line <a class="el" href="lookup_8py_source.html#l00412">412</a> of file <a class="el" href="lookup_8py_source.html">lookup.py</a>.</p>

</div>
</div>
<a id="a0f45656342f3972993705510f363382f" name="a0f45656342f3972993705510f363382f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f45656342f3972993705510f363382f">&#9670;&#160;</a></span>make_lookup_from_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="class_verity_py_1_1transforms_1_1lookup_1_1_look_up_dict.html">LookUpDict</a> make_lookup_from_file </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>title</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>file_uri</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>delim</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>is_case_sens</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_keys</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Builds a LookUpDict from text file

File will be read and columns extracted by splitting lines with delimiter. 
Empty and comment (begins with # or //) lines are ignored. 
First data containing line must contain delimited field names. 
num_keys specifies how many columns will be used as keys (1-3) and then the next column will be used as value. 
This number of columns must be present after splitting. 
If double quote is in line then more precise (but slower) column separation will be used.
LookupDict will have its fields and recs lists filled.

Returns LookUpDict object whose title will start with notok: if there is an error.
</pre> 
<p class="definition">Definition at line <a class="el" href="lookup_8py_source.html#l00227">227</a> of file <a class="el" href="lookup_8py_source.html">lookup.py</a>.</p>

</div>
</div>
<a id="a40b975fecc902bdfaaf29d5ce9938da0" name="a40b975fecc902bdfaaf29d5ce9938da0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40b975fecc902bdfaaf29d5ce9938da0">&#9670;&#160;</a></span>make_lookup_from_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="class_verity_py_1_1transforms_1_1lookup_1_1_look_up_dict.html">LookUpDict</a> make_lookup_from_list </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>title</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list</td>          <td class="paramname"><span class="paramname"><em>lkup_list</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>delim</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>is_case_sens</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_keys</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Builds a LookUpDict from list that contains what would be read from a file. 

List will be read and columns extracted by splitting lines with delimiter. 
Empty and comment (begins with # or //) lines are ignored. 
First data containing line must contain delimited field names. 
num_keys specifies how many columns will be used as keys (1-3) and then the next column will be used as value. 
This number of columns must be present after splitting. 
If double quote is in line then more precise (but slower) column separation will be used.
LookupDict will have its fields and recs lists filled.

Returns LookUpDict object whose title will start with notok: if there is an error.
</pre> 
<p class="definition">Definition at line <a class="el" href="lookup_8py_source.html#l00320">320</a> of file <a class="el" href="lookup_8py_source.html">lookup.py</a>.</p>

</div>
</div>
<a id="a1e4b0f5771c3e26561ec03d18bb44bb7" name="a1e4b0f5771c3e26561ec03d18bb44bb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e4b0f5771c3e26561ec03d18bb44bb7">&#9670;&#160;</a></span>make_lookups()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict make_lookups </td>
          <td>(</td>
          <td class="paramtype">list</td>          <td class="paramname"><span class="paramname"><em>lookups</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Makes lookup dicts from files supplied in list of LookUpDict objects. 

lookups: list of LookUpDict objects each of which must have its title, file_uri, num_keys. 
delim and is_case_sens are optional. 
The text file must have a header line as the first non-empty and non-comment (comment lines begin with either // or #) line. 
Field names delimited by parameter 'delim'. 
There must be num_keys + 1 fields in the header and each record. 
The num_keys + 1 field is the result when a match occurs. 

returns object with keys:
dicts: list of LookUpDict objects made from supplied list with lists of fields and recs filled.
hash: dictionary as hash table of LookUpDicts with key = each LookUpDict title and value= index in 'dicts' array
</pre> 
<p class="definition">Definition at line <a class="el" href="lookup_8py_source.html#l00168">168</a> of file <a class="el" href="lookup_8py_source.html">lookup.py</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 11 2024 21:35:50 for VerityPy by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
