<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VerityDotNet: VerityDotNet.RemediateParsing Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="ti_logo.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">VerityDotNet<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">C# library for Verity data profiling, quality control, remediation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_verity_dot_net.html">VerityDotNet</a></li><li class="navelem"><a class="el" href="class_verity_dot_net_1_1_remediate_parsing.html">RemediateParsing</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_verity_dot_net_1_1_remediate_parsing-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">VerityDotNet.RemediateParsing Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Remediates (i.e fixes) records that parse incorrectly leading to incorrect number of field values relative to number fields in schema. This has three types: big: too many field values typically due to embedded delimiters in some field values small1: too few fields by 1 which can either be an error or acceptable since some databases intentionally drop last field if it is empty setting it as null small2: too few fields by 2 or more typically caused by line feeds in fields or problems exporting records across data system types This class detects and corrects these errors making new records that are correct.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:afdeb93f6a7665070f7df450319c5efc6" id="r_afdeb93f6a7665070f7df450319c5efc6"><td class="memItemLeft" align="right" valign="top">static List&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afdeb93f6a7665070f7df450319c5efc6">FixRecordFieldSplit</a> (Dictionary&lt; string, string &gt; settings, List&lt; <a class="el" href="class_verity_dot_net_1_1_field.html">Field</a> &gt; srcFields, List&lt; string &gt; srcRecs)</td></tr>
<tr class="memdesc:afdeb93f6a7665070f7df450319c5efc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Repairs records with parsing problems having too many or too few field values relative to defined number of fields. This occurs due to embedded delimiters in some field values causing too many parsed values, and records broken across multiple lines causing too few values. These situations are categorized into 3 types: 1) big (too many parsed values), 2) small1 (1 too few values), 3) small2 (2 or more too few values). small1 is a special case since some data systems purposefully eliminate the fnal field value in a record if it is empty by making it null thereby saving storage and memory space. In this case, the record is actually fine but is missing its final field value. This can be accepted by having the setting 'allowLastEmpty' = TRUE leading to a default value assigned to this last record field based on datatype: int and real assigned 0, bool assigned FALSE, others assigned empty string.  <br /></td></tr>
<tr class="separator:afdeb93f6a7665070f7df450319c5efc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ddcf5d245925fbb5611cd6b887f1dc2" id="r_a7ddcf5d245925fbb5611cd6b887f1dc2"><td class="memItemLeft" align="right" valign="top">static List&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ddcf5d245925fbb5611cd6b887f1dc2">ShiftArrayEntries</a> (List&lt; string &gt; origVals, List&lt; <a class="el" href="class_verity_dot_net_1_1_field.html">Field</a> &gt; fields, Dictionary&lt; string, int &gt; hashFields, List&lt; string &gt; pinFlds)</td></tr>
<tr class="memdesc:a7ddcf5d245925fbb5611cd6b887f1dc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shifts array of parsed field values to correct having more values than defined fields. Uses algorithm assessing best field and field + 1 (index positions in record) to join based on datatypes, formats and known patterns of root causes of this error.  <br /></td></tr>
<tr class="separator:a7ddcf5d245925fbb5611cd6b887f1dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Remediates (i.e fixes) records that parse incorrectly leading to incorrect number of field values relative to number fields in schema. This has three types: big: too many field values typically due to embedded delimiters in some field values small1: too few fields by 1 which can either be an error or acceptable since some databases intentionally drop last field if it is empty setting it as null small2: too few fields by 2 or more typically caused by line feeds in fields or problems exporting records across data system types This class detects and corrects these errors making new records that are correct. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="afdeb93f6a7665070f7df450319c5efc6" name="afdeb93f6a7665070f7df450319c5efc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdeb93f6a7665070f7df450319c5efc6">&#9670;&#160;</a></span>FixRecordFieldSplit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static List&lt; string &gt; VerityDotNet.RemediateParsing.FixRecordFieldSplit </td>
          <td>(</td>
          <td class="paramtype">Dictionary&lt; string, string &gt;</td>          <td class="paramname"><span class="paramname"><em>settings</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="class_verity_dot_net_1_1_field.html">Field</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>srcFields</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; string &gt;</td>          <td class="paramname"><span class="paramname"><em>srcRecs</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Repairs records with parsing problems having too many or too few field values relative to defined number of fields. This occurs due to embedded delimiters in some field values causing too many parsed values, and records broken across multiple lines causing too few values. These situations are categorized into 3 types: 1) big (too many parsed values), 2) small1 (1 too few values), 3) small2 (2 or more too few values). small1 is a special case since some data systems purposefully eliminate the fnal field value in a record if it is empty by making it null thereby saving storage and memory space. In this case, the record is actually fine but is missing its final field value. This can be accepted by having the setting 'allowLastEmpty' = TRUE leading to a default value assigned to this last record field based on datatype: int and real assigned 0, bool assigned FALSE, others assigned empty string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">settings</td><td>Dictionary of setting parameters. Both key and value are strings. Settings: -allowLastEmpty: bool whether to allow last field to be empty (i.e. small1 parsing) and assign it default value. Default is TRUE -isQuoted: bool whether fields values may be enclosed by double quotes as is common when data exported from SpreadSheets and some databases. Default is FALSE. -hasHeader: bool whether first non-empty record is a header row of delimited field titles. Default is FALSE. -ignoreEmpty: bool whether to ignore empty records. Default is TRUE. -pinFields: field titles delimited by pipe (if more than 1) that are pinned meaning if record has too many fields (i.e. big) then these fields will not shifted as the algorithm finds the best way to merge values to make corrected record -ignoreStartStr: string parts delimited by pipe (if more than 1) that will cause records starting with any one of them to be ignored. Always case insensitive. A common use for this is to filter out comment lines such as those starting with # or // in which case set to #|// -delim: name of delimiter to use to parse records: comma, pipe, tab, colon, caret. This is required. -joinChar: token (max 10 chars) or alias to insert when joining lines to remediate parsing. Default is to use nothing. Aliases include: -comma-, -tab-, -pipe-, -space-, -bslash-, -fslash-, -lparen-, -rparen-, -lcurly-, -rcurly-, -lsquare-, -rsquare-, -dblquote-, -mathpi-, -mathe- </td></tr>
    <tr><td class="paramname">srcFields</td><td>list of Field objects comprising records</td></tr>
    <tr><td class="paramname">srcRecs</td><td>list of string source records</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><p class="startdd">list of new records. If error, 0th entry starts with notok: otherwise it is string of stats:</p>
<p class="enddd"></p>
</dd></dl>

</div>
</div>
<a id="a7ddcf5d245925fbb5611cd6b887f1dc2" name="a7ddcf5d245925fbb5611cd6b887f1dc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ddcf5d245925fbb5611cd6b887f1dc2">&#9670;&#160;</a></span>ShiftArrayEntries()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static List&lt; string &gt; VerityDotNet.RemediateParsing.ShiftArrayEntries </td>
          <td>(</td>
          <td class="paramtype">List&lt; string &gt;</td>          <td class="paramname"><span class="paramname"><em>origVals</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="class_verity_dot_net_1_1_field.html">Field</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>fields</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Dictionary&lt; string, int &gt;</td>          <td class="paramname"><span class="paramname"><em>hashFields</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; string &gt;</td>          <td class="paramname"><span class="paramname"><em>pinFlds</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shifts array of parsed field values to correct having more values than defined fields. Uses algorithm assessing best field and field + 1 (index positions in record) to join based on datatypes, formats and known patterns of root causes of this error. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">origVals</td><td>array of parsed field values</td></tr>
    <tr><td class="paramname">fields</td><td>list of Field object containing datatype and format specifications</td></tr>
    <tr><td class="paramname">hashFields</td><td>Dictionary of field title lowercase to its array index</td></tr>
    <tr><td class="paramname">pinFlds</td><td>optional list of field titles that are pinned meaning their position cannot be changed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>new array of parsed field values. If error, 0th entry starts with notok:</dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>D:/CodeDevelopment/VS/VerityDotNet/<b>RemediateParsing.cs</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 11 2024 21:36:12 for VerityDotNet by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
